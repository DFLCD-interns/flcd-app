{"version":3,"file":"9-BcmoUGPD.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/dashboard/databases/classes/_page.server.js","../../../.svelte-kit/adapter-node/nodes/9.js"],"sourcesContent":["import { c as getAllClassesDB, e as getBatchesDB, f as getClassesDB, h as getBatchesAndClassesDB, j as getUsersDB, i as insertIntoTableDB } from \"../../../../../chunks/db.js\";\nimport { f as fail } from \"../../../../../chunks/index.js\";\nasync function load() {\n  return {\n    batches: await getAllClassesDB(),\n    batches_only_table: await getBatchesDB(),\n    classes_only_table: await getClassesDB(),\n    classes_batch_table: await getBatchesAndClassesDB(),\n    users: await getUsersDB()\n  };\n}\nconst actions = {\n  createBatch: async ({ cookies, request }) => {\n    console.log(\"hi\");\n    try {\n      const data = await request.formData();\n      let batchNames = await getBatchesDB();\n      batchNames = batchNames.map((item) => item.name);\n      batchNames = batchNames.map((item) => item.toLowerCase());\n      if (batchNames.includes(data.get(\"name\").toLowerCase())) {\n        return fail(500, {\n          message: \"This batch name already exists!\"\n        });\n      }\n      const response2 = await insertIntoTableDB(\"batches\", data);\n      return { success: response2.success };\n    } catch (error) {\n      console.error(\"Action failed:\", error.message);\n      return { success: response.success };\n    }\n  },\n  createClass: async ({ cookies, request }) => {\n    try {\n      const data = await request.formData();\n      let classNames = await getClassesDB();\n      classNames = classNames.map((item) => item.name);\n      classNames = classNames.map((item) => item.toLowerCase());\n      if (classNames.includes(data.get(\"name\").toLowerCase())) {\n        return fail(500, {\n          message: \"This class name already exists!\"\n        });\n      }\n      const response2 = await insertIntoTableDB(\"classes\", data);\n      return { success: response2.success };\n    } catch (error) {\n      console.error(\"Action failed:\", error.message);\n      return { success: response.success };\n    }\n  },\n  addChild: async ({ cookies, request }) => {\n    try {\n      const data = await request.formData();\n      const response2 = await insertIntoTableDB(\"childs\", data);\n      return { success: response2.success };\n    } catch (error) {\n      console.error(\"Action failed:\", error.message);\n      return { success: response.success };\n    }\n  }\n};\nexport {\n  actions,\n  load\n};\n","import * as server from '../entries/pages/dashboard/databases/classes/_page.server.js';\n\nexport const index = 9;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/dashboard/databases/classes/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/dashboard/databases/classes/+page.server.js\";\nexport const imports = [\"_app/immutable/nodes/9.CMBSWOz6.js\",\"_app/immutable/chunks/scheduler.DOp8wpeX.js\",\"_app/immutable/chunks/index.DWy7Bods.js\",\"_app/immutable/chunks/each.xxwK4Lbk.js\",\"_app/immutable/chunks/Button.BXa4MMB8.js\",\"_app/immutable/chunks/spread.CgU5AtxT.js\",\"_app/immutable/chunks/bundle-mjs.8vkCkPAV.js\",\"_app/immutable/chunks/GradientButton.DdhgmlZd.js\",\"_app/immutable/chunks/Label.CeVi60PH.js\",\"_app/immutable/chunks/Input.Co8tTmGU.js\",\"_app/immutable/chunks/Wrapper.Dkt-i6bG.js\",\"_app/immutable/chunks/MultiSelect.CdzMrb2V.js\",\"_app/immutable/chunks/Badge.DEbT3qjz.js\",\"_app/immutable/chunks/index.BQaFFxeS.js\",\"_app/immutable/chunks/Search.C7MWu5Gt.js\",\"_app/immutable/chunks/Select.CbOpMfno.js\",\"_app/immutable/chunks/TrashBinOutline.B6LB4Ldt.js\",\"_app/immutable/chunks/Frame.CkqC4DDT.js\",\"_app/immutable/chunks/EditOutline.z7FUiLX2.js\",\"_app/immutable/chunks/CirclePlusSolid.CJvFe9yH.js\",\"_app/immutable/chunks/downloadcsv.LbUqkH5T.js\",\"_app/immutable/chunks/FilterSolid.k7JC76lm.js\",\"_app/immutable/chunks/Toaster.svelte_svelte_type_style_lang.naqoLmSw.js\",\"_app/immutable/chunks/index.DELnobZO.js\",\"_app/immutable/chunks/forms.BXne0zmk.js\",\"_app/immutable/chunks/entry.DBH_V7Gc.js\"];\nexport const stylesheets = [\"_app/immutable/assets/Toaster.CLpmFrbv.css\"];\nexport const fonts = [];\n"],"names":[],"mappings":"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"}