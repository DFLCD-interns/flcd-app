{"version":3,"file":"2-jmNrm0Uo.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/dashboard/_layout.server.js","../../../.svelte-kit/adapter-node/nodes/2.js"],"sourcesContent":["import { A as getEquipmentRequestsDB, B as getVenueRequestsDB, C as getClassRequestsDB, D as getFromTableDB, a as getUserFromSessionDB, E as getUserPriv, g as getEquipmentDB, k as getEquipmentTypesDB, F as getEquipmentsStatusesDB, G as getVenueDB, H as getVenuesStatusesDB, I as getChildsStatusesDB, r as getUsersListDB, J as getUserTypesDB } from \"../../../chunks/db.js\";\nimport { p as postgresTimeToReadable } from \"../../../chunks/index2.js\";\nimport { format } from \"date-fns\";\nasync function getRequestsInfo(user_id, user_access_level) {\n  const equipment_requests = await getEquipmentRequestsDB();\n  const venue_requests = await getVenueRequestsDB();\n  const class_requests = await getClassRequestsDB();\n  const allRequests = [];\n  const equipReqsGroupedDict = {};\n  equipment_requests.forEach((row) => {\n    if (Object.keys(equipReqsGroupedDict).includes(row.request_id.toString()))\n      equipReqsGroupedDict[row.request_id].push(row);\n    else equipReqsGroupedDict[row.request_id] = [row];\n  });\n  Object.values(equipReqsGroupedDict).forEach(function(groupedItem) {\n    const desiredEquipments = groupedItem.reduce((equipTypeDict, item) => {\n      if (Object.keys(equipTypeDict).includes(item?.equipment_type))\n        equipTypeDict[item?.equipment_type]++;\n      else equipTypeDict[item?.equipment_type] = 1;\n      return equipTypeDict;\n    }, {});\n    const requestName = Object.entries(desiredEquipments).map((entry) => entry.join(\" (\") + \")\").join(\", \");\n    allRequests.push({\n      type: \"Equipment Request\",\n      table: \"equipment_requests\",\n      id: groupedItem[0]?.request_id,\n      requester_id: groupedItem[0]?.requester_id,\n      name: requestName,\n      created: groupedItem[0]?.created,\n      date: groupedItem[0]?.promised_start_time,\n      actual_date_end: groupedItem[0]?.actual_end_time,\n      status: null,\n      approvalsInfo: null,\n      requestedItems: desiredEquipments,\n      // these are equipment types\n      requestRows: groupedItem\n    });\n  });\n  const venueReqsGroupedDict = {};\n  venue_requests.forEach((row) => {\n    if (Object.keys(venueReqsGroupedDict).includes(row.request_id.toString()))\n      venueReqsGroupedDict[row.request_id].push(row);\n    else venueReqsGroupedDict[row.request_id] = [row];\n  });\n  Object.values(venueReqsGroupedDict).forEach(function(groupedItem) {\n    const noAssignedCount = groupedItem.reduce((_noAssignedCount, item) => item.name ? _noAssignedCount : ++_noAssignedCount, 0);\n    const requestName = groupedItem.map((item) => item.name).join(\", \") + (noAssignedCount != 0 ? `(${noAssignedCount} unavailable venues)` : \"\");\n    const start_date = /* @__PURE__ */ new Date(format(groupedItem[0].date_needed, \"yyyy-MM-dd\") + \"T\" + groupedItem[0].start_time);\n    const end_date = /* @__PURE__ */ new Date(format(groupedItem[0].date_needed, \"yyyy-MM-dd\") + \"T\" + groupedItem[0].end_time);\n    const desiredVenues = groupedItem.reduce((venueDict, item) => {\n      if (!Object.keys(venueDict).includes(item?.venue_id))\n        venueDict[item?.venue_id] = item?.name;\n      return venueDict;\n    }, {});\n    allRequests.push({\n      type: \"Venue Request\",\n      table: \"venue_requests\",\n      id: groupedItem[0].request_id,\n      requester_id: groupedItem[0]?.requester_id,\n      name: requestName,\n      created: groupedItem[0].created,\n      date: start_date,\n      actual_date_end: end_date,\n      status: null,\n      approvalsInfo: null,\n      requestedItems: desiredVenues,\n      // these are the venues\n      requestRows: groupedItem\n    });\n  });\n  const classReqsGroupedDict = {};\n  class_requests.forEach((row) => {\n    if (Object.keys(classReqsGroupedDict).includes(row.request_id.toString()))\n      classReqsGroupedDict[row.request_id].push(row);\n    else classReqsGroupedDict[row.request_id] = [row];\n  });\n  const maxDisplayDates = 2;\n  Object.values(classReqsGroupedDict).forEach(function(groupedItem) {\n    const desiredDates = [];\n    const displayStartDates = groupedItem.map((item, i) => {\n      if (i == maxDisplayDates) return \"...\";\n      const desiredDate = new Date(format(item.observe_date, \"yyyy-MM-dd\"));\n      const period = item.timeslot.split(\"-\");\n      const desiredStartDate = new Date(desiredDate.setHours(period[0]));\n      const desiredEndDate = new Date(desiredDate.setHours(period[1]));\n      desiredDates.push([desiredStartDate, desiredEndDate]);\n      if (i < maxDisplayDates) return postgresTimeToReadable(desiredStartDate);\n    }).join(\" / \");\n    allRequests.push({\n      type: \"Class Observation Request\",\n      table: \"class_requests\",\n      id: groupedItem[0].request_id,\n      // base request id\n      requester_id: groupedItem[0]?.requester_id,\n      name: groupedItem[0].name,\n      created: groupedItem[0].created,\n      date: displayStartDates,\n      // show all possible starts FOR DISPLAY\n      actual_date_end: desiredDates[desiredDates.length - 1][1],\n      // show only max end FOR SORTING TO HISTORY\n      status: null,\n      approvalsInfo: null,\n      requestedItems: desiredDates,\n      // 2d array (containing 1d array with 2 elements, start date and end date)\n      requestRows: groupedItem\n    });\n  });\n  const requestsInfo = [];\n  for (const req of allRequests) {\n    const formData = new FormData();\n    formData.append(\"request_id\", req.id);\n    const approvalFormsQuery = await getFromTableDB(\"approvals\", formData);\n    const forms = approvalFormsQuery.body.result.rows;\n    const approvalsInfo = await getApprovalsInfo(formData);\n    let valid;\n    if (user_access_level < 5)\n      valid = forms.some((form, i) => {\n        const validIfApprover = form.approver_id === user_id && (i == 0 ? true : forms[i - 1].status === \"approved\");\n        const validIfAdminStaff = !form.approver_id && user_access_level === 3;\n        return validIfApprover || validIfAdminStaff;\n      });\n    else valid = req.requester_id === user_id;\n    if (valid) {\n      req.status = getTotalStatus(approvalsInfo.displayNames, approvalsInfo.statuses);\n      req.approvalsInfo = approvalsInfo;\n      requestsInfo.push(req);\n    }\n  }\n  return requestsInfo;\n}\nasync function getApprovalsInfo(searchFormData) {\n  const formsQuery = await getFromTableDB(\"approvals\", searchFormData);\n  const statuses = [], remarks = [], userIDs = [];\n  formsQuery.body.result.rows.map(async (row) => {\n    statuses.push(row?.status);\n    remarks.push(row?.remarks);\n    userIDs.push(row?.approver_id);\n  });\n  const displayNames = [];\n  searchFormData.delete(\"request_id\");\n  const searchFormData2 = new FormData();\n  for (const row of formsQuery?.body.result.rows) {\n    let access_level = void 0;\n    if (row.approver_id) {\n      searchFormData.set(\"id\", row.approver_id);\n      const approverQuery = await getFromTableDB(\"users\", searchFormData);\n      if (!approverQuery?.body) throw new Error(`no appover matching the id ${searchFormData.get(\"id\")}`);\n      access_level = approverQuery?.body.result.rows[0]?.access_level;\n    } else access_level = 3;\n    searchFormData2.set(\"access_level\", access_level);\n    const access_levelQuery = await getFromTableDB(\"user_types\", searchFormData2);\n    const displayName = access_levelQuery.body.result.rows[0]?.description;\n    displayNames.push(displayName);\n  }\n  return {\n    statuses,\n    remarks,\n    displayNames,\n    userIDs\n  };\n}\nfunction getTotalStatus(names, statuses) {\n  if (statuses.includes(\"declined\"))\n    return \"declined\";\n  else if (statuses.includes(\"pending\"))\n    return \"pending with \" + names[statuses.findIndex((status) => status === \"pending\")];\n  else if (statuses.every((elem) => elem === \"approved\"))\n    return \"approved\";\n  else {\n    console.error(\"Total status of form cannot be determined.\");\n    return \"cannot be determined\";\n  }\n}\nasync function load({ cookies }) {\n  const session = cookies.get(\"session_id\");\n  if (!session) throw new Error(\"No Session ID found! not logged in?\");\n  const user = await getUserFromSessionDB(session);\n  const searchFormData = new FormData();\n  searchFormData.append(\"access_level\", await getUserPriv(session));\n  const user_access_level_label = await getFromTableDB(\"user_types\", searchFormData);\n  const childQuery = await getFromTableDB(\"childs\", new FormData());\n  return {\n    requestsInfo: await getRequestsInfo(user?.user_id, user?.access_level),\n    equipments: await getEquipmentDB(),\n    equipmentTypes: await getEquipmentTypesDB(),\n    equipmentsStatuses: await getEquipmentsStatusesDB(),\n    venues: await getVenueDB(),\n    venuesStatuses: await getVenuesStatusesDB(),\n    childs: childQuery?.body.result.rows,\n    childsStatuses: await getChildsStatusesDB(),\n    current_user: user,\n    user_access_level_label: user_access_level_label?.body.result.rows[0]?.description,\n    user: await getUsersListDB(),\n    userTypes: await getUserTypesDB()\n  };\n}\nexport {\n  load\n};\n","import * as server from '../entries/pages/dashboard/_layout.server.js';\n\nexport const index = 2;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/dashboard/_layout.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/dashboard/+layout.server.js\";\nexport const imports = [\"_app/immutable/nodes/2.B9RcXwwx.js\",\"_app/immutable/chunks/scheduler.DOp8wpeX.js\",\"_app/immutable/chunks/index.DWy7Bods.js\",\"_app/immutable/chunks/index.BQaFFxeS.js\",\"_app/immutable/chunks/spread.CgU5AtxT.js\",\"_app/immutable/chunks/bundle-mjs.8vkCkPAV.js\",\"_app/immutable/chunks/stores.DcDHJ5Ep.js\",\"_app/immutable/chunks/entry.CL2sXVfz.js\",\"_app/immutable/chunks/index.DELnobZO.js\",\"_app/immutable/chunks/ExclamationCircleOutline.VthikqZ9.js\"];\nexport const stylesheets = [];\nexport const fonts = [];\n"],"names":[],"mappings":";;;;;AAGA,eAAe,eAAe,CAAC,OAAO,EAAE,iBAAiB,EAAE;AAC3D,EAAE,MAAM,kBAAkB,GAAG,MAAM,sBAAsB,EAAE,CAAC;AAC5D,EAAE,MAAM,cAAc,GAAG,MAAM,kBAAkB,EAAE,CAAC;AACpD,EAAE,MAAM,cAAc,GAAG,MAAM,kBAAkB,EAAE,CAAC;AACpD,EAAE,MAAM,WAAW,GAAG,EAAE,CAAC;AACzB,EAAE,MAAM,oBAAoB,GAAG,EAAE,CAAC;AAClC,EAAE,kBAAkB,CAAC,OAAO,CAAC,CAAC,GAAG,KAAK;AACtC,IAAI,IAAI,MAAM,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC;AAC7E,MAAM,oBAAoB,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACrD,SAAS,oBAAoB,CAAC,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AACtD,GAAG,CAAC,CAAC;AACL,EAAE,MAAM,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC,OAAO,CAAC,SAAS,WAAW,EAAE;AACpE,IAAI,MAAM,iBAAiB,GAAG,WAAW,CAAC,MAAM,CAAC,CAAC,aAAa,EAAE,IAAI,KAAK;AAC1E,MAAM,IAAI,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,IAAI,EAAE,cAAc,CAAC;AACnE,QAAQ,aAAa,CAAC,IAAI,EAAE,cAAc,CAAC,EAAE,CAAC;AAC9C,WAAW,aAAa,CAAC,IAAI,EAAE,cAAc,CAAC,GAAG,CAAC,CAAC;AACnD,MAAM,OAAO,aAAa,CAAC;AAC3B,KAAK,EAAE,EAAE,CAAC,CAAC;AACX,IAAI,MAAM,WAAW,GAAG,MAAM,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC,GAAG,CAAC,CAAC,KAAK,KAAK,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC5G,IAAI,WAAW,CAAC,IAAI,CAAC;AACrB,MAAM,IAAI,EAAE,mBAAmB;AAC/B,MAAM,KAAK,EAAE,oBAAoB;AACjC,MAAM,EAAE,EAAE,WAAW,CAAC,CAAC,CAAC,EAAE,UAAU;AACpC,MAAM,YAAY,EAAE,WAAW,CAAC,CAAC,CAAC,EAAE,YAAY;AAChD,MAAM,IAAI,EAAE,WAAW;AACvB,MAAM,OAAO,EAAE,WAAW,CAAC,CAAC,CAAC,EAAE,OAAO;AACtC,MAAM,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC,EAAE,mBAAmB;AAC/C,MAAM,eAAe,EAAE,WAAW,CAAC,CAAC,CAAC,EAAE,eAAe;AACtD,MAAM,MAAM,EAAE,IAAI;AAClB,MAAM,aAAa,EAAE,IAAI;AACzB,MAAM,cAAc,EAAE,iBAAiB;AACvC;AACA,MAAM,WAAW,EAAE,WAAW;AAC9B,KAAK,CAAC,CAAC;AACP,GAAG,CAAC,CAAC;AACL,EAAE,MAAM,oBAAoB,GAAG,EAAE,CAAC;AAClC,EAAE,cAAc,CAAC,OAAO,CAAC,CAAC,GAAG,KAAK;AAClC,IAAI,IAAI,MAAM,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC;AAC7E,MAAM,oBAAoB,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACrD,SAAS,oBAAoB,CAAC,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AACtD,GAAG,CAAC,CAAC;AACL,EAAE,MAAM,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC,OAAO,CAAC,SAAS,WAAW,EAAE;AACpE,IAAI,MAAM,eAAe,GAAG,WAAW,CAAC,MAAM,CAAC,CAAC,gBAAgB,EAAE,IAAI,KAAK,IAAI,CAAC,IAAI,GAAG,gBAAgB,GAAG,EAAE,gBAAgB,EAAE,CAAC,CAAC,CAAC;AACjI,IAAI,MAAM,WAAW,GAAG,WAAW,CAAC,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,eAAe,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,eAAe,CAAC,oBAAoB,CAAC,GAAG,EAAE,CAAC,CAAC;AAClJ,IAAI,MAAM,UAAU,mBAAmB,IAAI,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,YAAY,CAAC,GAAG,GAAG,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;AACpI,IAAI,MAAM,QAAQ,mBAAmB,IAAI,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,YAAY,CAAC,GAAG,GAAG,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;AAChI,IAAI,MAAM,aAAa,GAAG,WAAW,CAAC,MAAM,CAAC,CAAC,SAAS,EAAE,IAAI,KAAK;AAClE,MAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,IAAI,EAAE,QAAQ,CAAC;AAC1D,QAAQ,SAAS,CAAC,IAAI,EAAE,QAAQ,CAAC,GAAG,IAAI,EAAE,IAAI,CAAC;AAC/C,MAAM,OAAO,SAAS,CAAC;AACvB,KAAK,EAAE,EAAE,CAAC,CAAC;AACX,IAAI,WAAW,CAAC,IAAI,CAAC;AACrB,MAAM,IAAI,EAAE,eAAe;AAC3B,MAAM,KAAK,EAAE,gBAAgB;AAC7B,MAAM,EAAE,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,UAAU;AACnC,MAAM,YAAY,EAAE,WAAW,CAAC,CAAC,CAAC,EAAE,YAAY;AAChD,MAAM,IAAI,EAAE,WAAW;AACvB,MAAM,OAAO,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,OAAO;AACrC,MAAM,IAAI,EAAE,UAAU;AACtB,MAAM,eAAe,EAAE,QAAQ;AAC/B,MAAM,MAAM,EAAE,IAAI;AAClB,MAAM,aAAa,EAAE,IAAI;AACzB,MAAM,cAAc,EAAE,aAAa;AACnC;AACA,MAAM,WAAW,EAAE,WAAW;AAC9B,KAAK,CAAC,CAAC;AACP,GAAG,CAAC,CAAC;AACL,EAAE,MAAM,oBAAoB,GAAG,EAAE,CAAC;AAClC,EAAE,cAAc,CAAC,OAAO,CAAC,CAAC,GAAG,KAAK;AAClC,IAAI,IAAI,MAAM,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC;AAC7E,MAAM,oBAAoB,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACrD,SAAS,oBAAoB,CAAC,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AACtD,GAAG,CAAC,CAAC;AACL,EAAE,MAAM,eAAe,GAAG,CAAC,CAAC;AAC5B,EAAE,MAAM,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC,OAAO,CAAC,SAAS,WAAW,EAAE;AACpE,IAAI,MAAM,YAAY,GAAG,EAAE,CAAC;AAC5B,IAAI,MAAM,iBAAiB,GAAG,WAAW,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,KAAK;AAC3D,MAAM,IAAI,CAAC,IAAI,eAAe,EAAE,OAAO,KAAK,CAAC;AAC7C,MAAM,MAAM,WAAW,GAAG,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,EAAE,YAAY,CAAC,CAAC,CAAC;AAC5E,MAAM,MAAM,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AAC9C,MAAM,MAAM,gBAAgB,GAAG,IAAI,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACzE,MAAM,MAAM,cAAc,GAAG,IAAI,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACvE,MAAM,YAAY,CAAC,IAAI,CAAC,CAAC,gBAAgB,EAAE,cAAc,CAAC,CAAC,CAAC;AAC5D,MAAM,IAAI,CAAC,GAAG,eAAe,EAAE,OAAO,sBAAsB,CAAC,gBAAgB,CAAC,CAAC;AAC/E,KAAK,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACnB,IAAI,WAAW,CAAC,IAAI,CAAC;AACrB,MAAM,IAAI,EAAE,2BAA2B;AACvC,MAAM,KAAK,EAAE,gBAAgB;AAC7B,MAAM,EAAE,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,UAAU;AACnC;AACA,MAAM,YAAY,EAAE,WAAW,CAAC,CAAC,CAAC,EAAE,YAAY;AAChD,MAAM,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI;AAC/B,MAAM,OAAO,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,OAAO;AACrC,MAAM,IAAI,EAAE,iBAAiB;AAC7B;AACA,MAAM,eAAe,EAAE,YAAY,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AAC/D;AACA,MAAM,MAAM,EAAE,IAAI;AAClB,MAAM,aAAa,EAAE,IAAI;AACzB,MAAM,cAAc,EAAE,YAAY;AAClC;AACA,MAAM,WAAW,EAAE,WAAW;AAC9B,KAAK,CAAC,CAAC;AACP,GAAG,CAAC,CAAC;AACL,EAAE,MAAM,YAAY,GAAG,EAAE,CAAC;AAC1B,EAAE,KAAK,MAAM,GAAG,IAAI,WAAW,EAAE;AACjC,IAAI,MAAM,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;AACpC,IAAI,QAAQ,CAAC,MAAM,CAAC,YAAY,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC;AAC1C,IAAI,MAAM,kBAAkB,GAAG,MAAM,cAAc,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC;AAC3E,IAAI,MAAM,KAAK,GAAG,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;AACtD,IAAI,MAAM,aAAa,GAAG,MAAM,gBAAgB,CAAC,QAAQ,CAAC,CAAC;AAC3D,IAAI,IAAI,KAAK,CAAC;AACd,IAAI,IAAI,iBAAiB,GAAG,CAAC;AAC7B,MAAM,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,CAAC,KAAK;AACtC,QAAQ,MAAM,eAAe,GAAG,IAAI,CAAC,WAAW,KAAK,OAAO,KAAK,CAAC,IAAI,CAAC,GAAG,IAAI,GAAG,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,KAAK,UAAU,CAAC,CAAC;AACrH,QAAQ,MAAM,iBAAiB,GAAG,CAAC,IAAI,CAAC,WAAW,IAAI,iBAAiB,KAAK,CAAC,CAAC;AAC/E,QAAQ,OAAO,eAAe,IAAI,iBAAiB,CAAC;AACpD,OAAO,CAAC,CAAC;AACT,SAAS,KAAK,GAAG,GAAG,CAAC,YAAY,KAAK,OAAO,CAAC;AAC9C,IAAI,IAAI,KAAK,EAAE;AACf,MAAM,GAAG,CAAC,MAAM,GAAG,cAAc,CAAC,aAAa,CAAC,YAAY,EAAE,aAAa,CAAC,QAAQ,CAAC,CAAC;AACtF,MAAM,GAAG,CAAC,aAAa,GAAG,aAAa,CAAC;AACxC,MAAM,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAC7B,KAAK;AACL,GAAG;AACH,EAAE,OAAO,YAAY,CAAC;AACtB,CAAC;AACD,eAAe,gBAAgB,CAAC,cAAc,EAAE;AAChD,EAAE,MAAM,UAAU,GAAG,MAAM,cAAc,CAAC,WAAW,EAAE,cAAc,CAAC,CAAC;AACvE,EAAE,MAAM,QAAQ,GAAG,EAAE,EAAE,OAAO,GAAG,EAAE,EAAE,OAAO,GAAG,EAAE,CAAC;AAClD,EAAE,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,KAAK;AACjD,IAAI,QAAQ,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;AAC/B,IAAI,OAAO,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;AAC/B,IAAI,OAAO,CAAC,IAAI,CAAC,GAAG,EAAE,WAAW,CAAC,CAAC;AACnC,GAAG,CAAC,CAAC;AACL,EAAE,MAAM,YAAY,GAAG,EAAE,CAAC;AAC1B,EAAE,cAAc,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;AACtC,EAAE,MAAM,eAAe,GAAG,IAAI,QAAQ,EAAE,CAAC;AACzC,EAAE,KAAK,MAAM,GAAG,IAAI,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE;AAClD,IAAI,IAAI,YAAY,GAAG,KAAK,CAAC,CAAC;AAC9B,IAAI,IAAI,GAAG,CAAC,WAAW,EAAE;AACzB,MAAM,cAAc,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,WAAW,CAAC,CAAC;AAChD,MAAM,MAAM,aAAa,GAAG,MAAM,cAAc,CAAC,OAAO,EAAE,cAAc,CAAC,CAAC;AAC1E,MAAM,IAAI,CAAC,aAAa,EAAE,IAAI,EAAE,MAAM,IAAI,KAAK,CAAC,CAAC,2BAA2B,EAAE,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1G,MAAM,YAAY,GAAG,aAAa,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,YAAY,CAAC;AACtE,KAAK,MAAM,YAAY,GAAG,CAAC,CAAC;AAC5B,IAAI,eAAe,CAAC,GAAG,CAAC,cAAc,EAAE,YAAY,CAAC,CAAC;AACtD,IAAI,MAAM,iBAAiB,GAAG,MAAM,cAAc,CAAC,YAAY,EAAE,eAAe,CAAC,CAAC;AAClF,IAAI,MAAM,WAAW,GAAG,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,WAAW,CAAC;AAC3E,IAAI,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;AACnC,GAAG;AACH,EAAE,OAAO;AACT,IAAI,QAAQ;AACZ,IAAI,OAAO;AACX,IAAI,YAAY;AAChB,IAAI,OAAO;AACX,GAAG,CAAC;AACJ,CAAC;AACD,SAAS,cAAc,CAAC,KAAK,EAAE,QAAQ,EAAE;AACzC,EAAE,IAAI,QAAQ,CAAC,QAAQ,CAAC,UAAU,CAAC;AACnC,IAAI,OAAO,UAAU,CAAC;AACtB,OAAO,IAAI,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAC;AACvC,IAAI,OAAO,eAAe,GAAG,KAAK,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,MAAM,KAAK,MAAM,KAAK,SAAS,CAAC,CAAC,CAAC;AACzF,OAAO,IAAI,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK,IAAI,KAAK,UAAU,CAAC;AACxD,IAAI,OAAO,UAAU,CAAC;AACtB,OAAO;AACP,IAAI,OAAO,CAAC,KAAK,CAAC,4CAA4C,CAAC,CAAC;AAChE,IAAI,OAAO,sBAAsB,CAAC;AAClC,GAAG;AACH,CAAC;AACD,eAAe,IAAI,CAAC,EAAE,OAAO,EAAE,EAAE;AACjC,EAAE,MAAM,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;AAC5C,EAAE,IAAI,CAAC,OAAO,EAAE,MAAM,IAAI,KAAK,CAAC,qCAAqC,CAAC,CAAC;AACvE,EAAE,MAAM,IAAI,GAAG,MAAM,oBAAoB,CAAC,OAAO,CAAC,CAAC;AACnD,EAAE,MAAM,cAAc,GAAG,IAAI,QAAQ,EAAE,CAAC;AACxC,EAAE,cAAc,CAAC,MAAM,CAAC,cAAc,EAAE,MAAM,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC;AACpE,EAAE,MAAM,uBAAuB,GAAG,MAAM,cAAc,CAAC,YAAY,EAAE,cAAc,CAAC,CAAC;AACrF,EAAE,MAAM,UAAU,GAAG,MAAM,cAAc,CAAC,QAAQ,EAAE,IAAI,QAAQ,EAAE,CAAC,CAAC;AACpE,EAAE,OAAO;AACT,IAAI,YAAY,EAAE,MAAM,eAAe,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,YAAY,CAAC;AAC1E,IAAI,UAAU,EAAE,MAAM,cAAc,EAAE;AACtC,IAAI,cAAc,EAAE,MAAM,mBAAmB,EAAE;AAC/C,IAAI,kBAAkB,EAAE,MAAM,uBAAuB,EAAE;AACvD,IAAI,MAAM,EAAE,MAAM,UAAU,EAAE;AAC9B,IAAI,cAAc,EAAE,MAAM,mBAAmB,EAAE;AAC/C,IAAI,MAAM,EAAE,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI;AACxC,IAAI,cAAc,EAAE,MAAM,mBAAmB,EAAE;AAC/C,IAAI,YAAY,EAAE,IAAI;AACtB,IAAI,uBAAuB,EAAE,uBAAuB,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,WAAW;AACtF,IAAI,IAAI,EAAE,MAAM,cAAc,EAAE;AAChC,IAAI,SAAS,EAAE,MAAM,cAAc,EAAE;AACrC,GAAG,CAAC;AACJ;;;;;;;ACjMY,MAAC,KAAK,GAAG,EAAE;AACvB,IAAI,eAAe,CAAC;AACR,MAAC,SAAS,GAAG,YAAY,eAAe,KAAK,CAAC,MAAM,OAAO,8BAA8C,CAAC,EAAE,QAAQ;AAEpH,MAAC,SAAS,GAAG,yCAAyC;AACtD,MAAC,OAAO,GAAG,CAAC,oCAAoC,CAAC,6CAA6C,CAAC,yCAAyC,CAAC,yCAAyC,CAAC,0CAA0C,CAAC,8CAA8C,CAAC,0CAA0C,CAAC,yCAAyC,CAAC,yCAAyC,CAAC,4DAA4D,EAAE;AAC1c,MAAC,WAAW,GAAG,GAAG;AAClB,MAAC,KAAK,GAAG;;;;"}