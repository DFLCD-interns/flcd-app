{"version":3,"file":"hooks.server-B4po3F7d.js","sources":["../../../.svelte-kit/adapter-node/chunks/hooks.server.js"],"sourcesContent":["import { b as authenticateUser } from \"./auth.js\";\nimport { r as redirect } from \"./index.js\";\nasync function handle({ event, resolve }) {\n  event.locals.user = await authenticateUser(event);\n  if (event.url.pathname.startsWith(\"/p\")) {\n    if (!event.locals.user) {\n      throw redirect(303, \"/\");\n    }\n    if (event.url.pathname.startsWith(\"/p0\")) {\n      if (![0].includes(event.locals.user.access_level)) {\n        return new Response(\"You do not have the correct access rights to view this!.\");\n      }\n    }\n    if (event.url.pathname.startsWith(\"/p1\")) {\n      if (![0, 1].includes(event.locals.user.access_level)) {\n        return new Response(\"You do not have the correct access rights to view this!.\");\n      }\n    }\n    if (event.url.pathname.startsWith(\"/p2\")) {\n      if (![0, 1, 2, 3].includes(event.locals.user.access_level)) {\n        return new Response(\"You do not have the correct access rights to view this!.\");\n      }\n    }\n    if (event.url.pathname.startsWith(\"/p3\")) {\n      if (![0, 1, 2, 3, 4, 5].includes(event.locals.user.access_level)) {\n        return new Response(\"You do not have the correct access rights to view this!.\");\n      }\n    }\n  }\n  const response = await resolve(event);\n  return response;\n}\nexport {\n  handle\n};\n"],"names":[],"mappings":";;;;;;;;AAEA,eAAe,MAAM,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE,EAAE;AAC1C,EAAE,KAAK,CAAC,MAAM,CAAC,IAAI,GAAG,MAAM,gBAAgB,CAAC,KAAK,CAAC,CAAC;AACpD,EAAE,IAAI,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE;AAC3C,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,EAAE;AAC5B,MAAM,MAAM,QAAQ,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;AAC/B,KAAK;AACL,IAAI,IAAI,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE;AAC9C,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE;AACzD,QAAQ,OAAO,IAAI,QAAQ,CAAC,0DAA0D,CAAC,CAAC;AACxF,OAAO;AACP,KAAK;AACL,IAAI,IAAI,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE;AAC9C,MAAM,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE;AAC5D,QAAQ,OAAO,IAAI,QAAQ,CAAC,0DAA0D,CAAC,CAAC;AACxF,OAAO;AACP,KAAK;AACL,IAAI,IAAI,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE;AAC9C,MAAM,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE;AAClE,QAAQ,OAAO,IAAI,QAAQ,CAAC,0DAA0D,CAAC,CAAC;AACxF,OAAO;AACP,KAAK;AACL,IAAI,IAAI,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE;AAC9C,MAAM,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE;AACxE,QAAQ,OAAO,IAAI,QAAQ,CAAC,0DAA0D,CAAC,CAAC;AACxF,OAAO;AACP,KAAK;AACL,GAAG;AACH,EAAE,MAAM,QAAQ,GAAG,MAAM,OAAO,CAAC,KAAK,CAAC,CAAC;AACxC,EAAE,OAAO,QAAQ,CAAC;AAClB;;;;"}