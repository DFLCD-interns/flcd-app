{"version":3,"file":"10-87TCr_-L.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/dashboard/databases/equipments/_page.server.js","../../../.svelte-kit/adapter-node/nodes/10.js"],"sourcesContent":["import { g as getEquipmentDB, k as getEquipmentTypesDB, i as insertIntoTableDB, l as deleteFromTableDB, u as updateTableDB } from \"../../../../../chunks/db.js\";\nimport { f as fail } from \"../../../../../chunks/index.js\";\nconst actions = {\n  addEquipment: async ({ request }) => {\n    const formData = await request.formData();\n    const name = formData.get(\"name\");\n    const location = formData.get(\"location\");\n    const notes = formData.get(\"notes\");\n    let type = formData.get(\"type\");\n    let equipmentNames = await getEquipmentDB();\n    equipmentNames = equipmentNames.map((item) => item.name);\n    equipmentNames = equipmentNames.map((item) => item.toLowerCase());\n    if (equipmentNames.includes(name.toLowerCase())) {\n      return fail(500, {\n        message: \"This equipment name already exists!\"\n      });\n    }\n    let equipmentTypes = await getEquipmentTypesDB();\n    equipmentTypes = equipmentTypes.map((item) => item.type);\n    equipmentTypes = equipmentTypes.map((item) => item.toLowerCase());\n    if (type == \"other\") {\n      type = formData.get(\"new_type\");\n      if (equipmentTypes.includes(type.toLowerCase())) {\n        return fail(500, {\n          message: \"This equipment type already exists!\"\n        });\n      }\n    }\n    const fd = {\n      name,\n      type,\n      location,\n      status: \"available\",\n      notes\n    };\n    const form_data = new FormData();\n    for (let key in fd) {\n      form_data.append(key, fd[key]);\n    }\n    try {\n      await insertIntoTableDB(\"equipments\", form_data);\n    } catch (error) {\n      console.error(\"Error: \", error.message);\n      return fail(500, {\n        message: error.message\n      });\n    }\n  },\n  deleteEquipment: async ({ request }) => {\n    const formData = await request.formData();\n    const id = formData.get(\"id\");\n    const fd = { id };\n    const form_data = new FormData();\n    for (let key in fd) {\n      form_data.append(key, fd[key]);\n    }\n    try {\n      await deleteFromTableDB(\"equipments\", form_data);\n    } catch (error) {\n      console.error(\"Error: \", error.message);\n      return fail(500, {\n        message: error.message\n      });\n    }\n  },\n  editEquipment: async ({ request }) => {\n    const formData = await request.formData();\n    const id = formData.get(\"id\");\n    const name = formData.get(\"name\");\n    const old_name = formData.get(\"old_name\");\n    const type = formData.get(\"type\");\n    const old_type = formData.get(\"old_type\");\n    const location = formData.get(\"location\");\n    const old_location = formData.get(\"old_location\");\n    const status = formData.get(\"status\");\n    const old_status = formData.get(\"old_status\");\n    const notes = formData.get(\"notes\");\n    const old_notes = formData.get(\"old_notes\");\n    if (name === old_name && type === old_type && location === old_location && status === old_status && notes === old_notes) {\n      return fail(500, {\n        message: \"No changes made.\"\n      });\n    }\n    let equipmentNames = await getEquipmentDB();\n    equipmentNames = equipmentNames.map((item) => item.name);\n    equipmentNames = equipmentNames.map((item) => item.toLowerCase());\n    if (name !== old_name) {\n      if (equipmentNames.includes(name.toLowerCase())) {\n        return fail(500, {\n          message: \"This equipment name already exists!\"\n        });\n      }\n    }\n    const id_fd = { id };\n    const id_data = new FormData();\n    for (let key in id_fd) {\n      id_data.append(key, id_fd[key]);\n    }\n    const fd = {\n      name,\n      type,\n      location,\n      status,\n      notes\n    };\n    const form_data = new FormData();\n    for (let key in fd) {\n      form_data.append(key, fd[key]);\n    }\n    try {\n      await updateTableDB(\"equipments\", id_data, form_data);\n    } catch (error) {\n      console.error(\"Error: \", error.message);\n      return fail(500, {\n        message: error.message\n      });\n    }\n  }\n};\nexport {\n  actions\n};\n","import * as server from '../entries/pages/dashboard/databases/equipments/_page.server.js';\n\nexport const index = 10;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/dashboard/databases/equipments/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/dashboard/databases/equipments/+page.server.js\";\nexport const imports = [\"_app/immutable/nodes/10.BAOoaqir.js\",\"_app/immutable/chunks/scheduler.DOp8wpeX.js\",\"_app/immutable/chunks/index.DWy7Bods.js\",\"_app/immutable/chunks/each.xxwK4Lbk.js\",\"_app/immutable/chunks/Button.BXa4MMB8.js\",\"_app/immutable/chunks/spread.CgU5AtxT.js\",\"_app/immutable/chunks/bundle-mjs.8vkCkPAV.js\",\"_app/immutable/chunks/GradientButton.DdhgmlZd.js\",\"_app/immutable/chunks/Label.CeVi60PH.js\",\"_app/immutable/chunks/Input.Co8tTmGU.js\",\"_app/immutable/chunks/Wrapper.Dkt-i6bG.js\",\"_app/immutable/chunks/MultiSelect.CdzMrb2V.js\",\"_app/immutable/chunks/Badge.DEbT3qjz.js\",\"_app/immutable/chunks/index.BQaFFxeS.js\",\"_app/immutable/chunks/Search.C7MWu5Gt.js\",\"_app/immutable/chunks/Select.CbOpMfno.js\",\"_app/immutable/chunks/TrashBinOutline.B6LB4Ldt.js\",\"_app/immutable/chunks/Frame.CkqC4DDT.js\",\"_app/immutable/chunks/CloseOutline.vdu5KTRw.js\",\"_app/immutable/chunks/EditOutline.z7FUiLX2.js\",\"_app/immutable/chunks/CirclePlusSolid.CJvFe9yH.js\",\"_app/immutable/chunks/downloadcsv.LbUqkH5T.js\",\"_app/immutable/chunks/FilterSolid.k7JC76lm.js\",\"_app/immutable/chunks/forms.BXne0zmk.js\",\"_app/immutable/chunks/entry.DBH_V7Gc.js\",\"_app/immutable/chunks/index.DELnobZO.js\",\"_app/immutable/chunks/Toaster.svelte_svelte_type_style_lang.naqoLmSw.js\"];\nexport const stylesheets = [\"_app/immutable/assets/Toaster.CLpmFrbv.css\"];\nexport const fonts = [];\n"],"names":[],"mappings":";;;;AAEA,MAAM,OAAO,GAAG;AAChB,EAAE,YAAY,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK;AACvC,IAAI,MAAM,QAAQ,GAAG,MAAM,OAAO,CAAC,QAAQ,EAAE,CAAC;AAC9C,IAAI,MAAM,IAAI,GAAG,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;AACtC,IAAI,MAAM,QAAQ,GAAG,QAAQ,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;AAC9C,IAAI,MAAM,KAAK,GAAG,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;AACxC,IAAI,IAAI,IAAI,GAAG,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;AACpC,IAAI,IAAI,cAAc,GAAG,MAAM,cAAc,EAAE,CAAC;AAChD,IAAI,cAAc,GAAG,cAAc,CAAC,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC;AAC7D,IAAI,cAAc,GAAG,cAAc,CAAC,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;AACtE,IAAI,IAAI,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,EAAE;AACrD,MAAM,OAAO,IAAI,CAAC,GAAG,EAAE;AACvB,QAAQ,OAAO,EAAE,qCAAqC;AACtD,OAAO,CAAC,CAAC;AACT,KAAK;AACL,IAAI,IAAI,cAAc,GAAG,MAAM,mBAAmB,EAAE,CAAC;AACrD,IAAI,cAAc,GAAG,cAAc,CAAC,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC;AAC7D,IAAI,cAAc,GAAG,cAAc,CAAC,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;AACtE,IAAI,IAAI,IAAI,IAAI,OAAO,EAAE;AACzB,MAAM,IAAI,GAAG,QAAQ,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;AACtC,MAAM,IAAI,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,EAAE;AACvD,QAAQ,OAAO,IAAI,CAAC,GAAG,EAAE;AACzB,UAAU,OAAO,EAAE,qCAAqC;AACxD,SAAS,CAAC,CAAC;AACX,OAAO;AACP,KAAK;AACL,IAAI,MAAM,EAAE,GAAG;AACf,MAAM,IAAI;AACV,MAAM,IAAI;AACV,MAAM,QAAQ;AACd,MAAM,MAAM,EAAE,WAAW;AACzB,MAAM,KAAK;AACX,KAAK,CAAC;AACN,IAAI,MAAM,SAAS,GAAG,IAAI,QAAQ,EAAE,CAAC;AACrC,IAAI,KAAK,IAAI,GAAG,IAAI,EAAE,EAAE;AACxB,MAAM,SAAS,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;AACrC,KAAK;AACL,IAAI,IAAI;AACR,MAAM,MAAM,iBAAiB,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;AACvD,KAAK,CAAC,OAAO,KAAK,EAAE;AACpB,MAAM,OAAO,CAAC,KAAK,CAAC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;AAC9C,MAAM,OAAO,IAAI,CAAC,GAAG,EAAE;AACvB,QAAQ,OAAO,EAAE,KAAK,CAAC,OAAO;AAC9B,OAAO,CAAC,CAAC;AACT,KAAK;AACL,GAAG;AACH,EAAE,eAAe,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK;AAC1C,IAAI,MAAM,QAAQ,GAAG,MAAM,OAAO,CAAC,QAAQ,EAAE,CAAC;AAC9C,IAAI,MAAM,EAAE,GAAG,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;AAClC,IAAI,MAAM,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC;AACtB,IAAI,MAAM,SAAS,GAAG,IAAI,QAAQ,EAAE,CAAC;AACrC,IAAI,KAAK,IAAI,GAAG,IAAI,EAAE,EAAE;AACxB,MAAM,SAAS,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;AACrC,KAAK;AACL,IAAI,IAAI;AACR,MAAM,MAAM,iBAAiB,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;AACvD,KAAK,CAAC,OAAO,KAAK,EAAE;AACpB,MAAM,OAAO,CAAC,KAAK,CAAC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;AAC9C,MAAM,OAAO,IAAI,CAAC,GAAG,EAAE;AACvB,QAAQ,OAAO,EAAE,KAAK,CAAC,OAAO;AAC9B,OAAO,CAAC,CAAC;AACT,KAAK;AACL,GAAG;AACH,EAAE,aAAa,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK;AACxC,IAAI,MAAM,QAAQ,GAAG,MAAM,OAAO,CAAC,QAAQ,EAAE,CAAC;AAC9C,IAAI,MAAM,EAAE,GAAG,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;AAClC,IAAI,MAAM,IAAI,GAAG,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;AACtC,IAAI,MAAM,QAAQ,GAAG,QAAQ,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;AAC9C,IAAI,MAAM,IAAI,GAAG,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;AACtC,IAAI,MAAM,QAAQ,GAAG,QAAQ,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;AAC9C,IAAI,MAAM,QAAQ,GAAG,QAAQ,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;AAC9C,IAAI,MAAM,YAAY,GAAG,QAAQ,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;AACtD,IAAI,MAAM,MAAM,GAAG,QAAQ,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;AAC1C,IAAI,MAAM,UAAU,GAAG,QAAQ,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;AAClD,IAAI,MAAM,KAAK,GAAG,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;AACxC,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;AAChD,IAAI,IAAI,IAAI,KAAK,QAAQ,IAAI,IAAI,KAAK,QAAQ,IAAI,QAAQ,KAAK,YAAY,IAAI,MAAM,KAAK,UAAU,IAAI,KAAK,KAAK,SAAS,EAAE;AAC7H,MAAM,OAAO,IAAI,CAAC,GAAG,EAAE;AACvB,QAAQ,OAAO,EAAE,kBAAkB;AACnC,OAAO,CAAC,CAAC;AACT,KAAK;AACL,IAAI,IAAI,cAAc,GAAG,MAAM,cAAc,EAAE,CAAC;AAChD,IAAI,cAAc,GAAG,cAAc,CAAC,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC;AAC7D,IAAI,cAAc,GAAG,cAAc,CAAC,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;AACtE,IAAI,IAAI,IAAI,KAAK,QAAQ,EAAE;AAC3B,MAAM,IAAI,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,EAAE;AACvD,QAAQ,OAAO,IAAI,CAAC,GAAG,EAAE;AACzB,UAAU,OAAO,EAAE,qCAAqC;AACxD,SAAS,CAAC,CAAC;AACX,OAAO;AACP,KAAK;AACL,IAAI,MAAM,KAAK,GAAG,EAAE,EAAE,EAAE,CAAC;AACzB,IAAI,MAAM,OAAO,GAAG,IAAI,QAAQ,EAAE,CAAC;AACnC,IAAI,KAAK,IAAI,GAAG,IAAI,KAAK,EAAE;AAC3B,MAAM,OAAO,CAAC,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;AACtC,KAAK;AACL,IAAI,MAAM,EAAE,GAAG;AACf,MAAM,IAAI;AACV,MAAM,IAAI;AACV,MAAM,QAAQ;AACd,MAAM,MAAM;AACZ,MAAM,KAAK;AACX,KAAK,CAAC;AACN,IAAI,MAAM,SAAS,GAAG,IAAI,QAAQ,EAAE,CAAC;AACrC,IAAI,KAAK,IAAI,GAAG,IAAI,EAAE,EAAE;AACxB,MAAM,SAAS,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;AACrC,KAAK;AACL,IAAI,IAAI;AACR,MAAM,MAAM,aAAa,CAAC,YAAY,EAAE,OAAO,EAAE,SAAS,CAAC,CAAC;AAC5D,KAAK,CAAC,OAAO,KAAK,EAAE;AACpB,MAAM,OAAO,CAAC,KAAK,CAAC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;AAC9C,MAAM,OAAO,IAAI,CAAC,GAAG,EAAE;AACvB,QAAQ,OAAO,EAAE,KAAK,CAAC,OAAO;AAC9B,OAAO,CAAC,CAAC;AACT,KAAK;AACL,GAAG;AACH,CAAC;;;;;;;ACpHW,MAAC,KAAK,GAAG,GAAG;AACxB,IAAI,eAAe,CAAC;AACR,MAAC,SAAS,GAAG,YAAY,eAAe,KAAK,CAAC,MAAM,OAAO,4BAAiE,CAAC,EAAE,QAAQ;AAEvI,MAAC,SAAS,GAAG,4DAA4D;AACzE,MAAC,OAAO,GAAG,CAAC,qCAAqC,CAAC,6CAA6C,CAAC,yCAAyC,CAAC,wCAAwC,CAAC,0CAA0C,CAAC,0CAA0C,CAAC,8CAA8C,CAAC,kDAAkD,CAAC,yCAAyC,CAAC,yCAAyC,CAAC,2CAA2C,CAAC,+CAA+C,CAAC,yCAAyC,CAAC,yCAAyC,CAAC,0CAA0C,CAAC,0CAA0C,CAAC,mDAAmD,CAAC,yCAAyC,CAAC,gDAAgD,CAAC,+CAA+C,CAAC,mDAAmD,CAAC,+CAA+C,CAAC,+CAA+C,CAAC,yCAAyC,CAAC,yCAAyC,CAAC,yCAAyC,CAAC,yEAAyE,EAAE;AACjuC,MAAC,WAAW,GAAG,CAAC,4CAA4C,EAAE;AAC9D,MAAC,KAAK,GAAG;;;;"}